# Summary
`OutlierRecord` is a plain‑old‑Java‑Object (POJO) that models a single row of the “Outlier” sheet in the reconciliation (Recon) report generated by the Move‑Mediation revenue‑assurance pipeline. It encapsulates all attributes required to describe an outlier CDR (call detail record) – timestamps, customer, usage context, volume metrics, and geographic information – and provides standard JavaBean getters and setters for serialization and downstream processing.

# Key Components
- **Class `OutlierRecord`**
  - Private fields: `fileDate`, `callDate`, `secs`, `customerName`, `usageFor`, `propositionName`, `commercialOffer`, `cdrCount`, `dataMB`, `inVoiceMin`, `outVoiceMin`, `inSMS`, `outSMS`, `country`.
  - Public JavaBean accessor methods (`getX`, `setX`) for each field.
  - No business logic; serves solely as a data carrier between DAO, aggregation, and export layers.

# Data Flow
| Stage | Input | Transformation | Output |
|-------|-------|----------------|--------|
| DAO (Hive/SQL) | Raw rows from `outlier_*` tables | Map each row to an `OutlierRecord` instance | List\<OutlierRecord\> |
| Aggregation/Filtering | List\<OutlierRecord\> | Apply thresholds, grouping, or enrichment | Filtered List\<OutlierRecord\> |
| Export | Filtered List\<OutlierRecord\> | Serialize to CSV/Excel “Outlier” sheet | Recon report file (CSV/Excel) |
| Optional API | `OutlierRecord` objects | JSON/XML marshalling | REST response (if exposed) |

No side‑effects are performed inside the class; persistence and messaging are handled by external components.

# Integrations
- **DAO Layer**: `OutlierRecord` is instantiated by DAO classes that execute Hive/SQL queries (e.g., `OutlierDao`).
- **Export Layer**: Export utilities (CSVWriter, ExcelBuilder) consume collections of `OutlierRecord` to generate the Recon report.
- **Reporting Service**: May be passed to a reporting microservice that aggregates multiple DTOs before final output.
- **Logging/Monitoring**: Instances may be logged for audit trails; no direct logger in the class.

# Operational Risks
- **Schema Drift**: Adding/removing columns in source tables without updating this POJO will cause `NullPointerException` or data loss. *Mitigation*: automated schema‑validation tests.
- **Type Mismatch**: Fields such as `secs` (long) and `dataMB` (float) must match source types; mismatches cause runtime conversion errors. *Mitigation*: enforce strict type mapping in DAO.
- **Memory Pressure**: Large result sets materialized as `List<OutlierRecord>` can exhaust heap. *Mitigation*: stream results or paginate DAO queries.

# Usage
```java
// Example: DAO fetch and export
List<OutlierRecord> outliers = outlierDao.fetchByDate("2024-11-30");
outlierExporter.writeCsv(outliers, "/tmp/recon_outlier_20241130.csv");

// Debug: inspect a single record
OutlierRecord rec = outliers.get(0);
System.out.println("Customer: " + rec.getCustomerName()
    + ", Data MB: " + rec.getDataMB());
```
Run unit tests with Maven:
```
mvn test -Dtest=OutlierRecordTest
```

# Configuration
The class itself does not read configuration. Relevant external configs:
- **DAO connection properties** (`hive-site.xml`, `jdbc.properties`) for data retrieval.
- **Export paths** defined in `application.properties` (`report.outlier.dir`).
- **Thresholds** for outlier detection (e.g., `outlier.secs.max`) referenced elsewhere.

# Improvements
1. **Override `toString()`, `equals()`, and `hashCode()`** to facilitate logging, collection handling, and test assertions.
2. **Add validation annotations** (e.g., `@NotNull`, `@Positive`) and integrate with a bean‑validation framework to catch malformed records early.