# Summary
`runBARep.properties` is a thin wrapper properties file used by the Move mediation pipeline to inject shared environment variables into Business‑Analytics (BA) report jobs. By sourcing `MNAAS_CommonProperties.properties`, it ensures consistent log paths, Hadoop configuration, and credential settings for any script that includes this file before executing a BA report import or transformation.

# Key Components
- **Sourced file:** `/app/hadoop_users/MNAAS/MNAAS_Property_Files/MNAAS_CommonProperties.properties` – provides the canonical set of runtime constants (e.g., `MNAASLocalLogPath`, `HADOOP_CONF_DIR`, `DB_CONNECTION_STRING`).

# Data Flow
- **Inputs:** None directly; inherits variables from the sourced common properties file.
- **Outputs:** Populates the calling shell environment with exported variables; no file or network output generated by this file itself.
- **Side Effects:** Alters the caller’s environment (adds/overwrites variables).  
- **External Services/DBs/Queues:** Indirectly referenced through variables defined in the common properties (e.g., Oracle DB connection, HDFS staging directories).

# Integrations
- Included (`source`/`.`) by Bash scripts that run BA report jobs, such as `Org_details_Sqoop`, `Move_Table_Compute_Stats`, or any `*_BARep.sh` wrapper.
- Provides the same variable namespace used by Hadoop, Sqoop, Hive, and custom Java classes (e.g., `QueryResult.java`).

# Operational Risks
- **Missing common properties file** – job fails at startup. *Mitigation:* Validate file existence before sourcing; alert on missing file.
- **Variable collision** – local script variables may be unintentionally overridden. *Mitigation:* Prefix shared variables with a unique namespace (e.g., `MNAAS_`).
- **Stale configuration** – updates to common properties may break dependent jobs. *Mitigation:* Version‑control the common file and enforce regression testing for all jobs that source it.

# Usage
```bash
# In a Bash job script
#!/bin/bash
set -euo pipefail

# Load shared environment
. /app/hadoop_users/MNAAS/MNAAS_Property_Files/runBARep.properties

# Verify required vars
: "${MNAASLocalLogPath:?Missing MNAASLocalLogPath}"
# Proceed with BA report logic
```

# Configuration
- **Referenced file:** `/app/hadoop_users/MNAAS/MNAAS_Property_Files/MNAAS_CommonProperties.properties`
- **Key variables expected:** `MNAASLocalLogPath`, `HADOOP_CONF_DIR`, `DB_CONNECTION_STRING`, `HDFS_STAGING_DIR`, `LOG_LEVEL`, etc. (defined in the common properties file).

# Improvements
1. **Add sanity checks** – embed a small block that verifies critical variables after sourcing and exits with a clear error code if any are unset.
2. **Introduce version header** – include a comment with a version identifier and timestamp to aid change‑tracking and rollback.