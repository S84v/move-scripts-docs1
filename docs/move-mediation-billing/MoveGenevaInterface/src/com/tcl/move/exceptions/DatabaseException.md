# Summary
`DatabaseException` is a custom checked exception used throughout the Move‑Geneva mediation system to signal errors originating from database operations. It propagates database‑layer failures to higher‑level services, enabling uniform error handling and logging in production.

# Key Components
- **Class `DatabaseException` (extends `Exception`)**
  - Holds a serial version UID for serialization compatibility.
  - Provides a single constructor accepting an error message string, which is passed to the superclass.

# Data Flow
- **Inputs:** Error message string generated by DAO or repository components when a database call fails (e.g., SQL exception, connection timeout).
- **Outputs:** Thrown exception object propagated up the call stack.
- **Side Effects:** None; purely a data carrier.
- **External Services/DBs:** Triggered by any interaction with relational or NoSQL stores accessed via JDBC, JPA, MyBatis, etc.

# Integrations
- **DAO Layer:** Methods declare `throws DatabaseException` and wrap lower‑level `SQLException` or similar.
- **Service Layer:** Catches `DatabaseException` to translate into business‑level responses or to trigger retry/compensation logic.
- **Logging Framework:** Typically logged at error level when caught.
- **Monitoring:** May be mapped to alerting rules for database‑related failure spikes.

# Operational Risks
- **Unchecked Propagation:** If not caught, can cause thread termination and transaction rollback. *Mitigation:* Ensure all DAO methods declare and callers handle the exception.
- **Loss of Root Cause:** Only message is preserved; original stack trace may be lost. *Mitigation:* Wrap the original exception (`Throwable cause`) in an overloaded constructor or use `initCause`.
- **Serialization Compatibility:** Changing class structure without updating `serialVersionUID` can break deserialization in distributed caches. *Mitigation:* Keep UID constant or regenerate when breaking changes occur.

# Usage
```java
try {
    usageDao.save(usageInfo);
} catch (SQLException e) {
    throw new DatabaseException("Failed to persist usage record: " + e.getMessage());
}
```
Debugging: Set a breakpoint on the `DatabaseException` constructor or catch block; inspect the message and stack trace.

# configuration
No environment variables or external configuration files are referenced directly by this class. Configuration is handled by the components that instantiate the exception (e.g., DB connection strings, pool settings).

# Improvements
- Add an overloaded constructor `DatabaseException(String msg, Throwable cause)` to preserve the original exception stack trace.
- Implement a utility method `static DatabaseException wrap(SQLException e)` to standardize message formatting and cause chaining.