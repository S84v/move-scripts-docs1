# Summary
`MailException` is a custom checked exception used throughout the Move‑Geneva mediation pipeline to represent errors occurring during mail‑related operations (e.g., sending notifications, alerts, or reports). Throwing this exception enables uniform error handling, logging, and transaction rollback for mail failures.

# Key Components
- **Class `MailException`**
  - Extends `java.lang.Exception`.
  - `serialVersionUID = 6228590916239837910L` for serialization compatibility.
  - Constructor `MailException(String msg)` forwards the supplied message to the superclass.

# Data Flow
- **Input:** Error message string generated by mail utility code (e.g., SMTP client, template processor).
- **Output:** Propagated `MailException` instance up the call stack.
- **Side Effects:** Triggers catch blocks that may log the error, roll back DB transactions, or trigger alert mechanisms.
- **External Services:** Implicitly tied to mail transport services (SMTP server, third‑party email API) via the code that throws the exception.

# Integrations
- Thrown by mail‑handling classes in `com.tcl.move.mail` (or similar packages) when SMTP/SMTP‑API calls fail.
- Caught by DAO/service layers that coordinate end‑to‑end move processing, ensuring consistent logging and rollback.
- May be wrapped or re‑thrown by higher‑level orchestrators that aggregate move‑related exceptions.

# Operational Risks
- **Uncaught `MailException`** → process termination or incomplete move transaction. *Mitigation:* Ensure all mail‑invoking code has appropriate try/catch blocks.
- **Loss of original stack trace** if only the message is used. *Mitigation:* Preserve cause (`Throwable`) when re‑throwing or log full stack trace.
- **Serialization incompatibility** across JVM versions. *Mitigation:* Keep `serialVersionUID` unchanged unless class structure changes.

# Usage
```java
try {
    mailService.sendMoveReport(report);
} catch (MailException e) {
    logger.error("Failed to send move report: {}", e.getMessage(), e);
    // rollback transaction, notify ops, etc.
}
```
To debug, set a breakpoint in `MailException` constructor or in the catch block handling it.

# configuration
No direct configuration; relies on external mail service settings (SMTP host, port, credentials) defined elsewhere in the application configuration files.

# Improvements
- Add a constructor accepting `Throwable cause` to preserve underlying exception details.
- Implement a static factory method `MailException.from(Throwable t)` to standardize wrapping of lower‑level mail errors.