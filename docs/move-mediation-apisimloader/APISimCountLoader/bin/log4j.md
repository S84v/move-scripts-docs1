# Summary
Defines the Log4j logging configuration for the APISimCountLoader component. Sets the root logger to INFO level and attaches two appenders: a daily‑rolling file appender (`File`) and a console appender (`stdout`). Controls log formatting and the destination file via the `${logfile.name}` placeholder.

# Key Components
- **log4j.rootLogger** – Root logger level (`INFO`) and attached appenders (`File`, `stdout`).
- **File appender** (`org.apache.log4j.DailyRollingFileAppender`) – Writes logs to a file whose path is supplied by the `logfile.name` variable; rolls over daily.
- **File appender layout** (`org.apache.log4j.PatternLayout`) – Pattern `[%-5p] %d{ISO8601} %c - %m%n`.
- **Console appender** (`org.apache.log4j.ConsoleAppender`) – Writes logs to `System.out`.
- **Console appender layout** – Same pattern as file appender.

# Data Flow
1. **Input**: Log events generated by Java classes in the APISimCountLoader runtime (e.g., `com.tcl.move.*`).
2. **Processing**: Log4j evaluates each event against the root logger configuration.
3. **Outputs**:
   - Writes formatted log entries to the file defined by `${logfile.name}`; a new file is created each day.
   - Writes the same formatted entries to the standard output stream.
4. **Side Effects**: Disk I/O for file appender; console I/O for stdout. No direct DB or queue interaction.

# Integrations
- **Log4j library** – The configuration is consumed by Log4j at application startup.
- **External environment** – Relies on the `logfile.name` system property or environment variable to resolve the target log file path.
- **APISimCountLoader codebase** – All classes using `org.apache.log4j.Logger` inherit this configuration.

# Operational Risks
- **Missing `logfile.name`** – Application may fail to start or default to an invalid path, causing loss of file logs. *Mitigation*: Validate property at startup; provide a default fallback.
- **Unbounded log growth** – Daily rolling without retention policy can fill disk over time. *Mitigation*: Implement log cleanup script or configure `log4j.appender.File.MaxBackupIndex`.
- **Incorrect permissions** – File appender may lack write permission on the target directory. *Mitigation*: Ensure the process user has appropriate filesystem rights.

# Usage
```bash
# Set the log file location (system property) before launching the Java process
java -Dlogfile.name=/var/log/move/APISimCountLoader.log \
     -cp yourclasspath com.tcl.move.apisimloader.Main
```
The above command starts the loader with logs written to the specified file and echoed to the console.

# configuration
- **System property / environment variable**: `logfile.name` – absolute path for the daily‑rolling log file.
- **log4j.properties** – Must be on the classpath (e.g., placed in `src/main/resources` or `bin` directory).

# Improvements
1. **Add retention control** – Configure `log4j.appender.File.MaxBackupIndex` or integrate with a log‑rotation tool to limit retained files.
2. **Externalize log level** – Replace hard‑coded `INFO` with a configurable property (e.g., `${log.level}`) to allow dynamic adjustment without code change.