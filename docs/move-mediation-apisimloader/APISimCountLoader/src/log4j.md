# Summary
Defines the Log4j configuration for the **APISimCountLoader** Java component. Sets the root logger to `INFO` level and attaches two appenders: a daily‑rolling file appender (`File`) that writes to `${logfile.name}` and a console appender (`stdout`). Controls log formatting and destination path for production diagnostics.

# Key Components
- **log4j.rootLogger** – Root logger definition (`INFO`) with attached appenders `File` and `stdout`.  
- **org.apache.log4j.DailyRollingFileAppender** (`log4j.appender.File`) – Writes log events to a file that rolls over daily.  
- **org.apache.log4j.ConsoleAppender** (`log4j.appender.stdout`) – Writes log events to `System.out`.  
- **org.apache.log4j.PatternLayout** – Shared layout for both appenders; pattern `[%-5p] %d{ISO8601} %c - %m%n`.

# Data Flow
- **Inputs:** Log events generated by Java classes in the APISimCountLoader runtime (via `org.apache.log4j.Logger`).  
- **Processing:** Log4j routes each event to the configured appenders based on logger level (`INFO` and above).  
- **Outputs:**  
  - Daily‑rolled log file at path resolved from `${logfile.name}`.  
  - Console stream (`stdout`).  
- **Side Effects:** File creation, daily rollover, possible I/O exceptions if the target directory is unavailable.  
- **External Services/DBs:** None directly; logging may reference DB‑related messages produced by other components.

# Integrations
- Consumed by all Java classes in the **APISimCountLoader** module that obtain a `Logger` instance (e.g., `Logger.getLogger(MyClass.class)`).  
- Shares the `${logfile.name}` placeholder with the launch script or JVM system property set by the component’s start‑up wrapper (e.g., `-Dlogfile.name=/var/log/apisimcountloader.log`).  
- Works alongside other configuration files (`MOVEDAO.properties`, `MNAAS_ShellScript.properties`) that drive the business logic but do not affect logging.

# Operational Risks
- **Missing `logfile.name` property** → Log4j defaults to a literal `${logfile.name}` file, causing permission errors or disk fill. *Mitigation:* enforce JVM `-Dlogfile.name` at startup.  
- **Unbounded file growth** if daily rollover fails (e.g., disk full). *Mitigation:* monitor disk usage; configure OS logrotate as a fallback.  
- **Incorrect log level** (INFO may be too verbose for production). *Mitigation:* adjust `log4j.rootLogger` to `WARN` or use environment‑specific property overrides.

# Usage
```bash
# Example start command (Linux)
java -Dlogfile.name=/var/log/apisimcountloader.log \
     -Dlog4j.configuration=file:/opt/apisimcountloader/config/log4j.properties \
     -cp lib/* com.company.apisimcountloader.Main
```
- To debug, set `log4j.rootLogger=DEBUG, File, stdout` temporarily and restart the process.

# configuration
- **Environment Variable / JVM Property:** `logfile.name` – absolute path for the rolling log file.  
- **Referenced Config File:** `log4j.properties` itself (loaded via `log4j.configuration` system property).  
- No other external files are directly referenced.

# Improvements
1. **Add size‑based rollover** – replace `DailyRollingFileAppender` with `RollingFileAppender` + `SizeBasedTriggeringPolicy` to limit file size.  
2. **Externalize log level** – introduce `${log.level}` placeholder to allow environment‑specific log level without code change.